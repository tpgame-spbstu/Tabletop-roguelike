# Общие правила сражений:

(*) - пометка правил, для которых можно вводить исключения, как знаки или особые механики босов, расходуемые бонусы.
(**) - пометка правил, в которых возможны альтернативные варианты, которые будут уточняться в процессе баланса и не помешают процессу разработки.

## Поле
Поле - 4 колонки, 4-6 строк(можно менять от уровня к уровню). Первая снизу строка - "лагерь" игрока. Аналогично первая снизу строка - "лагерь" противника. 


## Ход сражения
В начале сражения, на доске могут находиться некоторые юниты противника или нейтральные объекты, а у игрока на руках находится некоторое кол-во карт ез его колоды. Далее по очереди ходят игрок и противник, начиная с игрока, до тех пор, пока после атаки одной из сторон (**)(запас прочности одного из лагерей не исчерпается/ разность суммарного урона по лагерям достигнет какого-то лимита).


## Этапы хода
1. Подготовка атаки игроком - передвижение, выставление юнитов, использование бонусов в любом порядке.
2. Атака игрока - все юниты игрока атакуют юниты противника, если они находятся в зоне их поражения (порядок атаки: по колонкам слева-направо, по строкам сверху вниз).
3. Выход подготовленных юнитов противника на свободные клетки лагеря.
4. Продвижение противника - все юниты противника продвигаются вниз на одну клетку(**) при наличии возможности.
5. Атака противника (порядок атаки: по колонкам слева-направо, по строкам снизу вверх).
6. Подготовка юнитов для выставления противиком.
7. Набор карт - игрок берёт (*)(**)кару/карты из своеё колоды, или из колоды пешек.
8. Возврат к пункту 1.


## Юниты
Юниты, являются фигурами, выставляемыми на поле. Юнит обладает следующими характеристиками:
* (atack_type) Тип атаки
* (range)Дальность атаки
* (power)Сила атаки
* (health)Начальное число hp
* (move_difficulty)множитель сложности передвижения
* Условие/цена выставления
* Символы
* Теги принадлежности к классам(для взаимодействий с эффектами)


## Выставление юнитов
Игрок и противник могут выставлять карты, только в свой "лагерь" (*). 
Противник в завершающем этапе своего хода решает, какие юниты готовится выставить и отображает в дополнительной строке над своей базой. Эти юниты будут выставлены на поле в соответствующем этапе хода противника, если соответствующая клетка лагеря будет не занята.
Игрок выставляет сколько-угодно своих юнитов с руки в любой момент стадии подготовки атаки, если выполнены условия их выставления.


## Очки инициативы
Игрок имеет шкалу очков инициативы, которая восполняется до текущего максимума в начале хода((**)максимум фиксированный, или растущий с каждым новым ходом(*)).
Эти преимущественно очки расходуются на передвижение юнитов, или на выставление юнитов, выставляемых за очки инициативы. Но также могут расходоваться особыми способностями юнитов.


## Предвижение юнитов
Юниты могут свободно перемещаться на свободные соседние клетки, но не мегут зайти во вражеский лагерь.
При передвижении юнита игроком очки инициативы расходуются следующим образом:
- Первый шаг юнита на клетку вперёд - move_difficulty * 1
- Все остальные шаги(вперёд, кроме первого, назад, влево, вправо) - move_difficulty * 2


## Типы атаки
- Ближний бой - атакует близжайшего к себе врага перед собой, если он раходится на расстоянии не больше range.
- Дальний бой - атакует юнит, если он находится на клетке через range клеток вперёди от него (аналог "летуна", но с ограниченной дальностью)


## Нанесение урона лагерю
Если юнит атакует пустую клетку вражеского лагеря(или юнит дальнего боя атакует клетку за лагерем), то он наносит урон самому лагерю.


## Черезмерный урон готовящимся юнитам
Если юнит в лагере противника был убит с черезмерным уроном и на его место готовится выйти другой юнит, то этот урон наносится ему. Однако даже если подготовленный юнит отсутствует, такой урон не наносится лагерю.


## Колода пешек
Помимо основной колоды игрок может брать карты из колоды пешек. (*)(**)Пердварительно - atack_type = ближний, range = 1, power = 1, health = 1, move_difficulty = 1, цена выставления = бесплатно.